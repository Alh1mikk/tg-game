<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–∏–∫—Ç–æ—Ä–∏–Ω–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--tg-theme-bg-color, #8e44ad);
            color: var(--tg-theme-text-color, #ffffff);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
            text-align: center;
        }
        
        .header {
            margin-bottom: 20px;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            color: #f1c40f;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 15px 0;
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 15px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #f1c40f;
        }
        
        .progress {
            margin: 20px 0;
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255,255,255,0.2);
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: #f1c40f;
            transition: width 0.3s ease;
        }
        
        .question-container {
            background: rgba(255,255,255,0.1);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .question {
            font-size: 20px;
            font-weight: 600;
            line-height: 1.4;
        }
        
        .options {
            display: grid;
            gap: 12px;
            margin: 20px 0;
        }
        
        .option {
            background: rgba(255,255,255,0.1);
            border: 2px solid transparent;
            padding: 15px 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 16px;
        }
        
        .option:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .option:active {
            transform: scale(0.98);
        }
        
        .option.correct {
            background: #27ae60;
            border-color: #2ecc71;
        }
        
        .option.incorrect {
            background: #e74c3c;
            border-color: #c0392b;
        }
        
        .controls {
            margin: 20px 0;
        }
        
        .btn {
            background: var(--tg-theme-button-color, #f1c40f);
            color: var(--tg-theme-button-text-color, #2c3e50);
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
        }
        
        .btn:active {
            transform: scale(0.95);
        }
        
        .btn.next {
            background: #3498db;
            color: white;
        }
        
        .category-selector {
            margin: 20px 0;
        }
        
        .category-btn {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid #f1c40f;
            padding: 10px 20px;
            border-radius: 20px;
            margin: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .category-btn.active {
            background: #f1c40f;
            color: #2c3e50;
        }
        
        .result-screen {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.95);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            display: none;
            z-index: 1000;
            width: 90%;
            max-width: 400px;
        }
        
        .result-screen h2 {
            color: #f1c40f;
            margin-bottom: 15px;
        }
        
        .feedback {
            margin: 10px 0;
            padding: 10px;
            border-radius: 10px;
            font-weight: 600;
            display: none;
        }
        
        .feedback.correct {
            background: rgba(39, 174, 96, 0.2);
            color: #2ecc71;
            display: block;
        }
        
        .feedback.incorrect {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß† –í–∏–∫—Ç–æ—Ä–∏–Ω–∞</h1>
            <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è!</p>
        </div>
        
        <div class="stats">
            <div class="stat-item">
                <div class="stat-value" id="score">0</div>
                <div>–û—á–∫–∏</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="questionNumber">1/10</div>
                <div>–í–æ–ø—Ä–æ—Å</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="correctAnswers">0</div>
                <div>–ü—Ä–∞–≤–∏–ª—å–Ω–æ</div>
            </div>
        </div>
        
        <div class="progress">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 10%"></div>
            </div>
        </div>
        
        <div class="category-selector" id="categorySelector">
            <h3>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é:</h3>
            <button class="category-btn active" onclick="setCategory('general')">üåç –û–±—â–∏–µ –∑–Ω–∞–Ω–∏—è</button>
            <button class="category-btn" onclick="setCategory('science')">üî¨ –ù–∞—É–∫–∞</button>
            <button class="category-btn" onclick="setCategory('history')">üìú –ò—Å—Ç–æ—Ä–∏—è</button>
            <button class="category-btn" onclick="setCategory('movies')">üé¨ –ö–∏–Ω–æ</button>
        </div>
        
        <div class="question-container" id="questionContainer">
            <div class="question" id="question">
                –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ –Ω–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –≤–∏–∫—Ç–æ—Ä–∏–Ω—É"
            </div>
        </div>
        
        <div class="feedback" id="feedback"></div>
        
        <div class="options" id="optionsContainer">
            <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è JavaScript -->
        </div>
        
        <div class="controls">
            <button class="btn" id="startBtn" onclick="startQuiz()">üéÆ –ù–∞—á–∞—Ç—å –≤–∏–∫—Ç–æ—Ä–∏–Ω—É</button>
            <button class="btn next" id="nextBtn" onclick="nextQuestion()" style="display: none;">‚û°Ô∏è –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å</button>
        </div>
        
        <div style="margin-top: 20px;">
            <button class="btn" onclick="showHelp()">‚ùì –ü–æ–º–æ—â—å</button>
            <button class="btn" onclick="closeGame()">‚Üê –ù–∞–∑–∞–¥</button>
        </div>
        
        <div class="result-screen" id="resultScreen">
            <h2>üéâ –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h2>
            <p>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: <span id="finalScore">0</span>/10</p>
            <p>–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: <span id="finalCorrect">0</span></p>
            <p id="resultMessage"></p>
            <button class="btn" onclick="restartQuiz()">üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.BackButton.show();
        tg.BackButton.onClick(() => {
            tg.close();
        });

        // –ë–∞–∑–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
        const QUIZ_DATA = {
            general: [
                {
                    question: "–ö–∞–∫–∞—è –ø–ª–∞–Ω–µ—Ç–∞ –∏–∑–≤–µ—Å—Ç–Ω–∞ –∫–∞–∫ '–ö—Ä–∞—Å–Ω–∞—è –ø–ª–∞–Ω–µ—Ç–∞'?",
                    options: ["–í–µ–Ω–µ—Ä–∞", "–ú–∞—Ä—Å", "–Æ–ø–∏—Ç–µ—Ä", "–°–∞—Ç—É—Ä–Ω"],
                    correct: 1
                },
                {
                    question: "–°–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ –ó–µ–º–ª–µ?",
                    options: ["5", "6", "7", "8"],
                    correct: 2
                },
                {
                    question: "–ö–∞–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ —è–≤–ª—è–µ—Ç—Å—è —Å–∏–º–≤–æ–ª–æ–º –†–æ—Å—Å–∏–∏?",
                    options: ["–ú–µ–¥–≤–µ–¥—å", "–û—Ä–µ–ª", "–í–æ–ª–∫", "–¢–∏–≥—Ä"],
                    correct: 0
                },
                {
                    question: "–ö–∞–∫–æ–π –≥–∞–∑ –ø—Ä–µ–æ–±–ª–∞–¥–∞–µ—Ç –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä–µ –ó–µ–º–ª–∏?",
                    options: ["–ö–∏—Å–ª–æ—Ä–æ–¥", "–£–≥–ª–µ–∫–∏—Å–ª—ã–π –≥–∞–∑", "–ê–∑–æ—Ç", "–í–æ–¥–æ—Ä–æ–¥"],
                    correct: 2
                },
                {
                    question: "–°—Ç–æ–ª–∏—Ü–∞ –ê–≤—Å—Ç—Ä–∞–ª–∏–∏?",
                    options: ["–°–∏–¥–Ω–µ–π", "–ú–µ–ª—å–±—É—Ä–Ω", "–ö–∞–Ω–±–µ—Ä—Ä–∞", "–ü–µ—Ä—Ç"],
                    correct: 2
                },
                {
                    question: "–°–∞–º–∞—è –¥–ª–∏–Ω–Ω–∞—è —Ä–µ–∫–∞ –≤ –º–∏—Ä–µ?",
                    options: ["–ê–º–∞–∑–æ–Ω–∫–∞", "–ù–∏–ª", "–Ø–Ω—Ü–∑—ã", "–ú–∏—Å—Å–∏—Å–∏–ø–∏"],
                    correct: 0
                },
                {
                    question: "–ö—Ç–æ –Ω–∞–ø–∏—Å–∞–ª '–í–æ–π–Ω—É –∏ –º–∏—Ä'?",
                    options: ["–î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π", "–¢–æ–ª—Å—Ç–æ–π", "–ß–µ—Ö–æ–≤", "–ü—É—à–∫–∏–Ω"],
                    correct: 1
                },
                {
                    question: "–°–∫–æ–ª—å–∫–æ —Ü–≤–µ—Ç–æ–≤ —É —Ä–∞–¥—É–≥–∏?",
                    options: ["5", "6", "7", "8"],
                    correct: 2
                },
                {
                    question: "–°–∞–º–æ–µ –±–æ–ª—å—à–æ–µ –º–ª–µ–∫–æ–ø–∏—Ç–∞—é—â–µ–µ –≤ –º–∏—Ä–µ?",
                    options: ["–°–ª–æ–Ω", "–°–∏–Ω–∏–π –∫–∏—Ç", "–ñ–∏—Ä–∞—Ñ", "–ë–µ–≥–µ–º–æ—Ç"],
                    correct: 1
                },
                {
                    question: "–ì–æ–¥ –æ—Å–Ω–æ–≤–∞–Ω–∏—è –ú–æ—Å–∫–≤—ã?",
                    options: ["1147", "1247", "1347", "1447"],
                    correct: 0
                }
            ],
            science: [
                {
                    question: "–ö–∞–∫–æ–π —ç–ª–µ–º–µ–Ω—Ç –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç—Å—è —Å–∏–º–≤–æ–ª–æ–º 'O'?",
                    options: ["–ó–æ–ª–æ—Ç–æ", "–ö–∏—Å–ª–æ—Ä–æ–¥", "–û–ª–æ–≤–æ", "–û—Å–º–∏–π"],
                    correct: 1
                },
                {
                    question: "–°–∫–æ–ª—å–∫–æ —Ö—Ä–æ–º–æ—Å–æ–º —É —á–µ–ª–æ–≤–µ–∫–∞?",
                    options: ["23", "46", "64", "32"],
                    correct: 1
                },
                {
                    question: "–ö—Ç–æ –æ—Ç–∫—Ä—ã–ª penicillin?",
                    options: ["–ü–∞—Å—Ç–µ—Ä", "–§–ª–µ–º–∏–Ω–≥", "–ö—é—Ä–∏", "–≠–π–Ω—à—Ç–µ–π–Ω"],
                    correct: 1
                },
                {
                    question: "–°–∞–º–∞—è –±–ª–∏–∑–∫–∞—è –∑–≤–µ–∑–¥–∞ –∫ –ó–µ–º–ª–µ?",
                    options: ["–ü—Ä–æ–∫—Å–∏–º–∞ –¶–µ–Ω—Ç–∞–≤—Ä–∞", "–°–∏—Ä–∏—É—Å", "–°–æ–ª–Ω—Ü–µ", "–ê–ª—å—Ñ–∞ –¶–µ–Ω—Ç–∞–≤—Ä–∞"],
                    correct: 2
                },
                {
                    question: "–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è —Å–∏–ª—ã —Ç–æ–∫–∞?",
                    options: ["–í–æ–ª—å—Ç", "–ê–º–ø–µ—Ä", "–û–º", "–í–∞—Ç—Ç"],
                    correct: 1
                }
            ],
            history: [
                {
                    question: "–í –∫–∞–∫–æ–º –≥–æ–¥—É –Ω–∞—á–∞–ª–∞—Å—å –í—Ç–æ—Ä–∞—è –º–∏—Ä–æ–≤–∞—è –≤–æ–π–Ω–∞?",
                    options: ["1939", "1941", "1945", "1935"],
                    correct: 0
                },
                {
                    question: "–ü–µ—Ä–≤—ã–π president –°–®–ê?",
                    options: ["–î–∂–æ–Ω –ê–¥–∞–º—Å", "–î–∂–æ—Ä–¥–∂ –í–∞—à–∏–Ω–≥—Ç–æ–Ω", "–¢–æ–º–∞—Å –î–∂–µ—Ñ—Ñ–µ—Ä—Å–æ–Ω", "–ê–≤—Ä–∞–∞–º –õ–∏–Ω–∫–æ–ª—å–Ω"],
                    correct: 1
                },
                {
                    question: "–ö—Ç–æ –ø–æ—Å—Ç—Ä–æ–∏–ª –ø–µ—Ä–≤—ã–π –ø–µ—á–∞—Ç–Ω—ã–π —Å—Ç–∞–Ω–æ–∫?",
                    options: ["–ì–∞–ª–∏–ª–µ–π", "–ì—É—Ç–µ–Ω–±–µ—Ä–≥", "–î–∞ –í–∏–Ω—á–∏", "–ö–æ–ø–µ—Ä–Ω–∏–∫"],
                    correct: 1
                }
            ],
            movies: [
                {
                    question: "–ö—Ç–æ —Ä–µ–∂–∏—Å—Å–µ—Ä —Ñ–∏–ª—å–º–∞ '–¢–∏—Ç–∞–Ω–∏–∫'?",
                    options: ["–°—Ç–∏–≤–µ–Ω –°–ø–∏–ª–±–µ—Ä–≥", "–î–∂–µ–π–º—Å –ö—ç–º–µ—Ä–æ–Ω", "–ö—Ä–∏—Å—Ç–æ—Ñ–µ—Ä –ù–æ–ª–∞–Ω", "–ö–≤–µ–Ω—Ç–∏–Ω –¢–∞—Ä–∞–Ω—Ç–∏–Ω–æ"],
                    correct: 1
                },
                {
                    question: "–°–∫–æ–ª—å–∫–æ —Ñ–∏–ª—å–º–æ–≤ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ç—Ä–∏–ª–æ–≥–∏–∏ '–ó–≤–µ–∑–¥–Ω—ã—Ö –≤–æ–π–Ω'?",
                    options: ["3", "4", "5", "6"],
                    correct: 0
                },
                {
                    question: "–ö—Ç–æ –∏–≥—Ä–∞–ª –≥–ª–∞–≤–Ω—É—é —Ä–æ–ª—å –≤ '–§–æ—Ä—Ä–µ—Å—Ç–µ –ì–∞–º–ø–µ'?",
                    options: ["–¢–æ–º –ö—Ä—É–∑", "–¢–æ–º –•—ç–Ω–∫—Å", "–ë—Ä—ç–¥ –ü–∏—Ç—Ç", "–õ–µ–æ–Ω–∞—Ä–¥–æ –î–∏–ö–∞–ø—Ä–∏–æ"],
                    correct: 1
                }
            ]
        };

        let currentCategory = 'general';
        let currentQuestion = 0;
        let score = 0;
        let correctAnswers = 0;
        let questions = [];
        let canAnswer = true;

        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        function setCategory(category) {
            currentCategory = category;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            resetQuiz();
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤
        function loadQuestions() {
            questions = [...QUIZ_DATA[currentCategory]];
            // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –≤–æ–ø—Ä–æ—Å—ã
            questions = questions.sort(() => Math.random() - 0.5).slice(0, 10);
        }

        // –ù–∞—á–∞–ª–æ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
        function startQuiz() {
            loadQuestions();
            currentQuestion = 0;
            score = 0;
            correctAnswers = 0;
            canAnswer = true;
            
            document.getElementById('categorySelector').style.display = 'none';
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'inline-block';
            
            showQuestion();
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –≤–æ–ø—Ä–æ—Å
        function showQuestion() {
            if (currentQuestion >= questions.length) {
                endQuiz();
                return;
            }
            
            const question = questions[currentQuestion];
            document.getElementById('question').textContent = question.question;
            document.getElementById('questionNumber').textContent = `${currentQuestion + 1}/${questions.length}`;
            document.getElementById('progressFill').style.width = `${((currentQuestion + 1) / questions.length) * 100}%`;
            
            // –û—á–∏—â–∞–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            // –°–æ–∑–¥–∞–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = `${String.fromCharCode(65 + index)}) ${option}`;
                optionElement.onclick = () => selectAnswer(index);
                optionsContainer.appendChild(optionElement);
            });
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            document.getElementById('feedback').className = 'feedback';
            document.getElementById('feedback').textContent = '';
            canAnswer = true;
        }

        // –í—ã–±–æ—Ä –æ—Ç–≤–µ—Ç–∞
        function selectAnswer(selectedIndex) {
            if (!canAnswer) return;
            
            canAnswer = false;
            const question = questions[currentQuestion];
            const options = document.getElementsByClassName('option');
            const feedback = document.getElementById('feedback');
            
            // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –æ—Ç–≤–µ—Ç—ã
            for (let i = 0; i < options.length; i++) {
                if (i === question.correct) {
                    options[i].classList.add('correct');
                } else if (i === selectedIndex) {
                    options[i].classList.add('incorrect');
                }
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç
            if (selectedIndex === question.correct) {
                score += 10;
                correctAnswers++;
                feedback.textContent = '‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ! +10 –æ—á–∫–æ–≤';
                feedback.className = 'feedback correct';
            } else {
                feedback.textContent = `‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${String.fromCharCode(65 + question.correct)}) ${question.options[question.correct]}`;
                feedback.className = 'feedback incorrect';
            }
            
            updateStats();
        }

        // –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
        function nextQuestion() {
            currentQuestion++;
            showQuestion();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function updateStats() {
            document.getElementById('score').textContent = score;
            document.getElementById('correctAnswers').textContent = correctAnswers;
        }

        // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
        function endQuiz() {
            document.getElementById('finalScore').textContent = score;
            document.getElementById('finalCorrect').textContent = `${correctAnswers}/${questions.length}`;
            
            let message = '';
            if (correctAnswers === questions.length) {
                message = 'üéâ –ò–¥–µ–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –í—ã –≥–µ–Ω–∏–π!';
            } else if (correctAnswers >= questions.length * 0.7) {
                message = 'üëç –û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!';
            } else if (correctAnswers >= questions.length * 0.5) {
                message = 'üòä –•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!';
            } else {
                message = 'üí™ –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è!';
            }
            
            document.getElementById('resultMessage').textContent = message;
            document.getElementById('resultScreen').style.display = 'block';
        }

        // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
        function restartQuiz() {
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('categorySelector').style.display = 'block';
            document.getElementById('startBtn').style.display = 'inline-block';
            document.getElementById('nextBtn').style.display = 'none';
            
            document.getElementById('question').textContent = '–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ –Ω–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –≤–∏–∫—Ç–æ—Ä–∏–Ω—É"';
            document.getElementById('optionsContainer').innerHTML = '';
            document.getElementById('progressFill').style.width = '10%';
        }

        // –°–±—Ä–æ—Å –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
        function resetQuiz() {
            document.getElementById('question').textContent = '–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ –Ω–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –≤–∏–∫—Ç–æ—Ä–∏–Ω—É"';
            document.getElementById('optionsContainer').innerHTML = '';
            document.getElementById('progressFill').style.width = '10%';
            document.getElementById('startBtn').style.display = 'inline-block';
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('categorySelector').style.display = 'block';
            document.getElementById('resultScreen').style.display = 'none';
            
            updateStats();
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–º–æ—â—å
        function showHelp() {
            alert(`üß† **–ö–∞–∫ –∏–≥—Ä–∞—Ç—å –≤ –í–∏–∫—Ç–æ—Ä–∏–Ω—É:**

üéØ **–¶–µ–ª—å:** –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –≤–æ–ø—Ä–æ—Å–æ–≤

üìù **–ü—Ä–∞–≤–∏–ª–∞:**
1. –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∑–Ω–∞–Ω–∏–π
2. –ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –≤–∏–∫—Ç–æ—Ä–∏–Ω—É"
3. –í—ã–±–∏—Ä–∞–π—Ç–µ –∏–∑ 4 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞
4. –ó–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç - +10 –æ—á–∫–æ–≤
5. –í—Å–µ–≥–æ 10 –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –∫–∞–∂–¥–æ–π –≤–∏–∫—Ç–æ—Ä–∏–Ω–µ

üèÜ **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:**
‚Ä¢ üåç –û–±—â–∏–µ –∑–Ω–∞–Ω–∏—è - —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
‚Ä¢ üî¨ –ù–∞—É–∫–∞ - —Ñ–∏–∑–∏–∫–∞, —Ö–∏–º–∏—è, –±–∏–æ–ª–æ–≥–∏—è
‚Ä¢ üìú –ò—Å—Ç–æ—Ä–∏—è - –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è
‚Ä¢ üé¨ –ö–∏–Ω–æ - —Ñ–∏–ª—å–º—ã –∏ –∞–∫—Ç–µ—Ä—ã

üí° **–°–æ–≤–µ—Ç—ã:**
‚Ä¢ –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ —á–∏—Ç–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã
‚Ä¢ –ò—Å–∫–ª—é—á–∞–π—Ç–µ –∑–∞–≤–µ–¥–æ–º–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
‚Ä¢ –ù–µ —Ç–æ—Ä–æ–ø–∏—Ç–µ—Å—å —Å –≤—ã–±–æ—Ä–æ–º`);
        }

        // –ó–∞–∫—Ä—ã—Ç—å –∏–≥—Ä—É
        function closeGame() {
            tg.close();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateStats();
    </script>
</body>
</html>